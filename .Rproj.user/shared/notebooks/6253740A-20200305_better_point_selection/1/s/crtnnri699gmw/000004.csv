"0","# Calculate sunrise and sunset times for each day."
"0","roam <- getSunlightTimes(data=roam, keep=c('sunrise', 'sunset'), "
"0","                        tz='America/Vancouver')"
"0","# Classify points as daytime or nighttime."
"0","roam <- roam %>%"
"0","  mutate(dial=case_when("
"0","    datetime < sunset & datetime > sunrise ~ 'day',"
"0","    TRUE ~ 'night'"
"0","  ))"
"0","# Pull out the nighttime points."
"0","roam.night <- roam %>%"
"0","  filter(dial == 'night')"
"0","# And then try this again."
"0","roost <- roam.night %>% "
"0","  group_by(site, date) %>%"
"0","  filter(datetime == max(datetime))"
