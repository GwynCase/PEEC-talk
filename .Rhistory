group=factor(case), fill=case)) +
geom_bar(stat='count', position='stack') +
theme_classic()
ggplot(data=n.points,
aes(x=factor(canopy.closure), y=..prop..,
group=case, fill=factor(case))) +
geom_bar(stat='count', position='stack') +
theme_classic()
ggplot(data=n.points,
aes(x=factor(canopy.closure), group=case, fill=factor(case))) +
geom_bar(stat='count', position='stack') +
theme_classic()
ggplot(data=n.points,
aes(x=factor(canopy.closure), group=case, fill=factor(case))) +
geom_bar(stat='count', position='fill') +
theme_classic()
ggplot(data=n.points,
aes(x=factor(basal.area), y=..prop..,
group=case, fill=factor(case))) +
geom_bar(stat='count', position='stack') +
theme_classic()
ggplot(data=n.points, aes(x=canopy.cover), group=case, fill=case) +
geom_histograph(binwidth=10, color='white')
ggplot(data=n.points, aes(x=canopy.cover), group=case, fill=case) +
geom_histogram(binwidth=10, color='white')
View(n.points)
ggplot(data=n.points, aes(x=canopy.closure), group=case, fill=case) +
geom_histogram(binwidth=10, color='white')
ggplot(data=n.points, aes(x=canopy.closure), group=case, color=case) +
geom_histogram(binwidth=10, color='white')
ggplot(data=n.points, aes(x=canopy.closure), group=case, fill=case ,color=case) +
geom_histogram(binwidth=10, color='white')
ggplot(data=n.points, aes(x=canopy.closure), group=case, fill=case, color=case) +
geom_histogram(binwidth=10, color='white')
ggplot(n.points, aes(x=canopy.closure, color=case)) +
geom_histogram(fill="white")
ggplot(n.points, aes(x=canopy.closure, fill=case)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080"))
ggplot(n.points, aes(x=canopy.closure, fill=site)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080"))
ggplot(n.points, aes(x=canopy.closure, fill=site)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080", '#404080'))
ggplot(n.points, aes(x=canopy.closure, fill=case)) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080"))
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
scale_fill_manual(values=c("#69b3a2", "#404080"))
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram( color="#e9ecef", alpha=0.6, position = 'identity') +
theme_classic()
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity') +
theme_classic()
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic()
library('extrafonts')
library('extrafont')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato'))
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#999999', '#E69F00')) +
labs(x='Percent closure', y='Count')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#D1A827', '#3F4234')) +
labs(x='Percent closure', y='Count')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#D1A827', '#1ABBD0')) +
labs(x='Percent closure', y='Count')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#F4E7D7', '#687672')) +
labs(x='Percent closure', y='Count')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#F4E7D7', '#687672')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#D1A827', '#687672')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#687672', '#D1A827')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
scale_fill_manual(values=c('#687672', '#7B895B')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#ffffff')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='Percent closure', y='Count', fill='Use')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='Percent closure', y='Count', fill='Use', title='Canopy Closure')
ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='percent closure', y='count', fill='use', title='Canopy Closure')
ggplot(n.points, aes(x=basal.area, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='percent closure', y='count', fill='use', title='Canopy Closure')
ggplot(n.points, aes(x=basal.area, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='area', y='count', fill='use', title='Basal Area')
ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=50) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=50) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=25) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
ggplot(n.points, aes(x=n.hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Nesting Habitat')
ggplot(n.points, aes(x=n_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Nesting Habitat')
ggplot(n.points, aes(x=f_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Foraging Habitat')
# Plot case ~ n hab.
g.nhab <- ggplot(n.points, aes(x=n_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Nesting Habitat')
g.nhab
# Plot case ~ f hab.
g.fhab <- ggplot(n.points, aes(x=f_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Foraging Habitat')
g.fhab
# Plot case ~ canopy.
g.can <- ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='percent closure', y='count', fill='use', title='Canopy Closure')
g.can
# Plot case ~ age.
g.age <- ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=25) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
g.age
# Plot case ~ basal area.
g.basal <- ggplot(n.points, aes(x=basal.area, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='area', y='count', fill='use', title='Basal Area')
g.basal
# Plot case ~ n hab.
g.nhab <- ggplot(n.points, aes(x=n_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Nesting Habitat')
g.nhab
# Plot case ~ f hab.
g.fhab <- ggplot(n.points, aes(x=f_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Foraging Habitat')
g.fhab
# Plot case ~ canopy.
g.can <- ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='percent closure', y='count', fill='use', title='Canopy Closure')
g.can
# Plot case ~ age.
g.age <- ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=25) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
g.age
# Plot case ~ basal area.
g.basal <- ggplot(n.points, aes(x=basal.area, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='area', y='count', fill='use', title='Basal Area')
g.basal
ggsave('../reports/uvav_nhab.jpg', plot='g.nhab')
ggsave('../reports/uvav_nhab.jpg', plot=g.nhab)
ggsave('../reports/uvav_fhab.jpg', plot=g.fhab)
ggsave('../reports/uvav_can.jpg', plot=g.gcan)
ggsave('../reports/uvav_can.jpg', plot=g.can)
ggsave('../reports/uvav_age.jpg', plot=g.age)
ggsave('../reports/uvav_basal.jpg', plot=g.basal)
summary(b.canopy)
plot(fitted(b.canopy))
# Load some libraries.
library('ggplot2')
library('tidyverse')
library('lme4')
# Read in the points.
points <- read.csv('../g_data/interim/points.csv', stringsAsFactors=FALSE)
# Load some libraries.
library('ggplot2')
library('tidyverse')
library('lme4')
# Read in the points.
points <- read.csv('../h_data/interim/points.csv', stringsAsFactors=FALSE)
p.points <- points %>%
filter(n_hab >= 0)
ggplot(p.points, aes(x=cover, y=n_hab, fill=density)) +
theme_classic() +
geom_boxplot()
p.points %>% filter(cover=='')
p.points <- p.points %>% filter(!cover=='')
p.points <- p.points %>% mutate(density=case_when(
density=='RZ' ~ 'NL',
density=='UR' ~ 'NL',
TRUE ~ density
))
# And then scale the numeric variables.
s.points <- p.points %>% mutate(canopy.closure=scale(canopy.closure), basal.area=scale(basal.area), live.stems=scale(live.stems), v.comp=scale(v.comp), dom.sp.per=scale(dom.sp.per), age=scale(age), height=scale(height))
sink.corr <- glmer(case ~ canopy.closure + basal.area + density + (1|site), data=s.points, family=binomial(link='logit'))
map(p.points, ~sum(is.na(.)))
p.points[which(is.na(p.points$live.stems)), ]
f.points <- s.points %>% filter(cover %in% c('TC', 'TM', 'TB')) %>%
drop_na()
f.points %>% group_by(case) %>%
summarize(n())
# "Boost" models.
b.basal <- glmer(case ~ n_hab + basal.area + (1|site), data=f.points, family=binomial(link='logit'))
b.canopy <- glmer(case ~ n_hab + canopy.closure + (1|site), data=f.points, family=binomial(link='logit'))
b.comp <- glmer(case ~ n_hab + v.comp + (1|site), data=f.points, family=binomial(link='logit'))
# "Solo" models.
s.basal <- glmer(case ~ basal.area + (1|site), data=f.points, family=binomial(link='logit'))
s.canopy <- glmer(case ~ canopy.closure + (1|site), data=f.points, family=binomial(link='logit'))
s.comp <- glmer(case ~ v.comp + (1|site), data=f.points, family=binomial(link='logit'))
# And of course habitat models.
n.hab <- glmer(case ~ n_hab + (1|site), data=f.points, family=binomial(link='logit'))
f.hab <- glmer(case ~ f_hab + (1|site), data=f.points, family=binomial(link='logit'))
# Check what pops out.
aic <- AIC(b.basal, b.canopy, b.comp, s.basal, s.canopy, s.comp, n.hab, f.hab)
aic %>% rownames_to_column() %>%
arrange(AIC)
# Load some libraries.
library('ggplot2')
library('tidyverse')
library('lme4')
library('AICcmodavg')
# Read in the points.
points <- read.csv('../h_data/interim/points.csv', stringsAsFactors=FALSE)
# Get the final data set.
n.points <- points %>%
filter(n_hab >= 0) %>%
filter(cover %in% c('TC', 'TM', 'TB')) %>%
select(-v.comp) %>%
drop_na()
# Not going to bother with basal area transformation.
# Build the models. I'll do just the top five from previously.
b.canopy <- glmer(case ~ n_hab + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
fb.canopy <- glmer(case ~ f_hab + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
s.canopy <- glmer(case ~ canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
n.hab <- glmer(case ~ n_hab + (1|site), data=n.points, family=binomial(link='logit'))
can.age <- glmer(case ~ age + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
models <- c(b.canopy, fb.canopy, s.canopy, n.hab, can.age)
modnames <- c('canopy + nest hab', 'canopy + f hab', 'canopy alone', 'nest hab alone', 'canopy + age')
aictab(models, modnames=modnames)
# Site-only model.
site <- glmer(case ~ 1 + (1|site), data=n.points, family=binomial(link='logit'))
models <- c(b.canopy, fb.canopy, s.canopy, n.hab, can.age, site)
modnames <- c('canopy + nest hab', 'canopy + f hab', 'canopy alone', 'nest hab alone', 'canopy + age', 'site')
aictab(models, modnames=modnames)
# Plot case ~ n hab.
g.nhab <- ggplot(n.points, aes(x=n_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Nesting Habitat')
g.nhab
# Plot case ~ f hab.
g.fhab <- ggplot(n.points, aes(x=f_hab, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=1) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='suitability', y='count', fill='use', title='Foraging Habitat')
g.fhab
# Plot case ~ canopy.
g.can <- ggplot(n.points, aes(x=canopy.closure, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='percent closure', y='count', fill='use', title='Canopy Closure')
g.can
# Plot case ~ age.
g.age <- ggplot(n.points, aes(x=age, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=25) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='years old', y='count', fill='use', title='Age')
g.age
# Plot case ~ basal area.
g.basal <- ggplot(n.points, aes(x=basal.area, fill=factor(case))) +
geom_histogram(color='white', position = 'identity', binwidth=10) +
theme_classic() +
scale_color_manual(values=c("#999999", "#E69F00")) +
theme(text=element_text(family='Lato')) +
# First goes in back
scale_fill_manual(values=c('#7B895B', '#BEA42E')) +
labs(x='area', y='count', fill='use', title='Basal Area')
g.basal
ggsave('../reports/uvav_nhab.jpg', plot=g.nhab)
ggsave('../reports/uvav_fhab.jpg', plot=g.fhab)
ggsave('../reports/uvav_can.jpg', plot=g.can)
ggsave('../reports/uvav_age.jpg', plot=g.age)
ggsave('../reports/uvav_basal.jpg', plot=g.basal)
# Load some libraries.
library('ggplot2')
library('tidyverse')
library('lme4')
library('AICcmodavg')
# Load some libraries.
library('tidyverse')
library('lme4')
library('AICcmodavg')
# Read in the points.
points <- read.csv('../data/interim/points.csv', stringsAsFactors=FALSE)
# Read in the points.
points <- read.csv('../data/interim/h_points.csv', stringsAsFactors=FALSE)
# Read in the points.
points <- read.csv('../h_data/interim/points.csv', stringsAsFactors=FALSE)
# Load some libraries.
library('tidyverse')
library('lme4')
library('AICcmodavg')
# Read in the points.
points <- read.csv('../h_data/interim/points.csv', stringsAsFactors=FALSE)
# Get the final data set.
n.points <- points %>%
filter(n_hab >= 0) %>%
filter(cover %in% c('TC', 'TM', 'TB')) %>%
select(-v.comp) %>%
drop_na()
# Build the models.
b.canopy <- glmer(case ~ n_hab + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
fb.canopy <- glmer(case ~ f_hab + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
s.canopy <- glmer(case ~ canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
n.hab <- glmer(case ~ n_hab + (1|site), data=n.points, family=binomial(link='logit'))
f.hab <- glmer(case ~ f_hab + (1|site), data=n.points, family=binomial(link='logit'))
can.age <- glmer(case ~ age + canopy.closure + (1|site), data=n.points, family=binomial(link='logit'))
s.age <- glmer(case ~ age + (1|site), data=n.points, family=binomial(link='logit'))
site <- glmer(case ~ 1 + (1|site), data=n.points, family=binomial(link='logit'))
models <- c(b.canopy, fb.canopy, s.canopy, n.hab, f.hab, can.age, s.age, site)
modnames <- c('canopy + nest hab', 'canopy + f hab', 'canopy alone', 'nest hab alone', 'f hab alone', 'canopy + age', 'age alone', 'site')
aictab(models, modnames=modnames)
library('MuMIn')
r.squaredGLMM(b.canopy)
r.squaredGLMM(n.hab)
library('MuMIn')
r.squaredGLMM(b.canopy)
r.squaredGLMM(n.hab)
